import{j as e}from"./index-BvXexBWS.js";function i(){return e.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16 text-left",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-10 text-center",children:"Designing a Persistent Hash Cache with SQLite"}),e.jsx("p",{className:"text-gray-500 mb-8 text-center italic",children:"Posted on 2026-01-21"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"File Identity"}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"A file is identified by:"}),e.jsxs("ul",{className:"list-disc list-inside mb-8 text-lg text-gray-700 leading-relaxed space-y-2",children:[e.jsx("li",{children:"Path"}),e.jsx("li",{children:"Size"}),e.jsx("li",{children:"Modification time"})]}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"If all three match, the file is assumed unchanged."}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Schema Design"}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"The database schema includes:"}),e.jsxs("ul",{className:"list-disc list-inside mb-8 text-lg text-gray-700 leading-relaxed space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"files"})," — file identity and metadata"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"hash_methods"})," — algorithm name and version"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"hashes"})," — computed values"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"meta"})," — schema versioning"]})]}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"This allows:"}),e.jsxs("ul",{className:"list-disc list-inside mb-8 text-lg text-gray-700 leading-relaxed space-y-2",children:[e.jsx("li",{children:"Safe upgrades"}),e.jsx("li",{children:"Algorithm invalidation"}),e.jsx("li",{children:"Fine-grained cache hits"})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cache as a Pipeline Stage"}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"The cache isn’t a bolt-on optimisation — it’s a first-class pipeline stage."}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"If all required hashes are present:"}),e.jsxs("ul",{className:"list-disc list-inside mb-8 text-lg text-gray-700 leading-relaxed space-y-2",children:[e.jsx("li",{children:"Disk IO is skipped"}),e.jsx("li",{children:"Decoding is skipped"}),e.jsx("li",{children:"Hashing is skipped entirely"})]}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"Results are injected directly back into the pipeline."}),e.jsx("img",{src:"/images/photoboss/sql-schema.png",alt:"SQLite schema for the hash cache",className:"rounded-xl shadow-md mx-auto transform transition-transform duration-300 hover:scale-105 mb-10 w-full object-contain"})]})}export{i as default};
